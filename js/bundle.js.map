{"version":3,"sources":["webpack:///webpack/bootstrap cb0ccfe6a515c9c6b0f7","webpack:///./js/main.js","webpack:///./js/game.jsx","webpack:///./js/gem.jsx"],"names":["$","document","ready","game","Game","grid","gem_prefixs","gem_size","w","h","m","Phaser","AUTO","preload","create","update","enableDebug","load","atlasJSONHash","x","y","xPos","yPos","gemName","rnd","integerInRange","length","gemSprite","add","sprite","console","log","gem","left","right","up","down","gemType","name","gemIdx","isMatch","hasMatch","direction","matches","next","currMatches"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap cb0ccfe6a515c9c6b0f7","import Game from './game.jsx';\n\n$(document).ready(function(){\n  var game = new Game();\n});\n\n\n\n// WEBPACK FOOTER //\n// ./js/main.js","import gem from './gem.jsx';\n\nclass Game {\n\n  constructor(){\n    this.grid = [15, 9];\n\n    this.gem_prefixs = [\n      'yellow', 'blue', 'green', 'red', 'purple', 'pink'\n    ];\n\n    this.gem_size = {\n      w: 55,\n      h: 82,\n      m: 5\n    };\n\n    this.game = new Phaser.Game(this.grid[0] * this.gem_size.w, this.grid[1] * this.gem_size.h, Phaser.AUTO, 'game-canvas', { preload: this.preload, create: this.create, update: this.update, enableDebug: false});\n  }\n\n  preload(){\n    this.game.load.atlasJSONHash('gems', 'images/gems.png', 'images/gems-hash.json');\n  }\n\n  create(){\n    var x = 1, y;\n    do{\n      y = 1;\n      do{\n        var xPos = (x * gem_size.w) - gem_size.w,\n            yPos = (y * gem_size.h) - gem_size.h,\n            gemName = gem_prefixs[ game.rnd.integerInRange(0, gem_prefixs.length-1) ] + '_gem_1',\n            gemSprite = game.add.sprite(xPos, yPos, 'gems', gemName);\n\n          //TODO use gem class\n\n          console.log({\n            x: x,\n            y: y,\n            xPos: xPos,\n            yPos: yPos,\n            gemName: gemName,\n            gemSprite: gemSprite\n          });\n      }while(y++ < grid[1]);\n    }while(x++ < grid[0]);\n  }\n\n  update(){\n\n  }\n}\n\nexport default Game;\n\n\n\n// WEBPACK FOOTER //\n// ./js/game.jsx","var gem = function(left, right, up, down){\n  this.left = left;\n  this.right = right;\n  this.up = up;\n  this.down = down;\n\n\n  this.gemType = game.rnd.integerInRange(0, gem_prefixs.length-1);\n  var name = gem_prefixs[ gemIdx ] + '_gem_1',\n      sprite = game.add.sprite(xPos, yPos, 'gems', gemName);\n\n  this.isMatch = function(gem){\n    return this.gemType === gem.gemType;\n  };\n\n  this.hasMatch = function(direction){\n    if(typeof direction !== 'undefined'){\n      return this.isMatch(this[direction]) ? (this[direction].hasMatch(direction) + 1) : 0;\n    }else{\n      var matches = 0;\n      for(var next in ['up', 'down', 'left', 'right']){\n        if(this.isMatch(this[next])){\n          var currMatches = this[next].hasMatch(next);\n          if(currMatches > 3){\n            matches += currMatches;\n          }\n        }\n      }\n\n      return matches;\n    }\n  }\n};\n\nexport default gem;\n\n\n\n// WEBPACK FOOTER //\n// ./js/gem.jsx"],"sourceRoot":""}