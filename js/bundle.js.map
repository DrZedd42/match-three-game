{"version":3,"sources":["webpack:///webpack/bootstrap 13f2da68f838ada46271","webpack:///./js/main.js","webpack:///./js/game.jsx","webpack:///./js/gem.jsx"],"names":["$","document","ready","game","instance","Game","grid_size","grid","Phaser","width","height","AUTO","preload","create","update","enableDebug","load","atlasJSONHash","x","y","xPos","yPos","gem","GameSingleton","gem_prefixs","gem_size","w","h","m","Gem","left","right","up","down","gemType","phaser","rnd","integerInRange","length","name","sprite","add","isMatch","hasMatch","direction","matches","next","currMatches"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 13f2da68f838ada46271","import Game from './game.jsx';\n\n$(document).ready(function(){\n  var game = Game.instance;\n});\n\n\n\n// WEBPACK FOOTER //\n// ./js/main.js","import Gem from './gem.jsx';\n\nclass Game {\n  get phaser(){ return this.game; }\n\n  constructor(){\n    this.grid_size = [15, 9];\n    this.grid = [];\n    this.game = new Phaser.Game(this.grid_size[0] * Gem.width, this.grid_size[1] * Gem.height, Phaser.AUTO, 'game-canvas', {\n      preload: () => this.preload(),\n      create: () => this.create(),\n      update: () => this.update(),\n      enableDebug: false\n    });\n  }\n\n  preload(){\n    this.game.load.atlasJSONHash('gems', 'images/gems.png', 'images/gems-hash.json');\n  }\n\n  create(){\n    var x = 1, y;\n    do{\n      y = 1;\n      do{\n        var xPos = (x * Gem.width) - Gem.width,\n            yPos = (y * Gem.height) - Gem.height,\n            gem = new Gem(null, null, null, null, xPos, yPos);\n      }while(y++ < this.grid_size[1]);\n    }while(x++ < this.grid_size[0]);\n  }\n\n  update(){\n\n  }\n}\n\nvar instance = null;\nclass GameSingleton{\n  static get instance(){\n    if(!instance){\n      instance = new Game();\n    }\n\n    return instance;\n  }\n}\n\nexport default GameSingleton;\n\n\n\n// WEBPACK FOOTER //\n// ./js/game.jsx","import Game from './game.jsx';\n\nconst gem_prefixs = [\n  'yellow', 'blue', 'green', 'red', 'purple', 'pink'\n];\n\nconst gem_size = {\n  w: 55,\n  h: 82,\n  m: 5\n};\n\nclass Gem{\n  static get width(){ return gem_size.w; }\n  static get height(){ return gem_size.h; }\n  static get margin(){ return gem_size.m; }\n\n  constructor(left, right, up, down, xPos, yPos){\n    this.game = Game.instance;\n    this.left = left;\n    this.right = right;\n    this.up = up;\n    this.down = down;\n\n    this.gemType = this.game.phaser.rnd.integerInRange(0, gem_prefixs.length-1);\n    this.name = gem_prefixs[ this.gemType ] + '_gem_1';\n    this.sprite = this.game.phaser.add.sprite(xPos, yPos, 'gems', this.name);\n  }\n}\n\nvar gem = function(left, right, up, down){\n  this.isMatch = function(gem){\n    return this.gemType === gem.gemType;\n  };\n\n  this.hasMatch = function(direction){\n    if(typeof direction !== 'undefined'){\n      return this.isMatch(this[direction]) ? (this[direction].hasMatch(direction) + 1) : 0;\n    }else{\n      var matches = 0;\n      for(var next in ['up', 'down', 'left', 'right']){\n        if(this.isMatch(this[next])){\n          var currMatches = this[next].hasMatch(next);\n          if(currMatches > 3){\n            matches += currMatches;\n          }\n        }\n      }\n\n      return matches;\n    }\n  }\n};\n\nexport default Gem;\n\n\n\n// WEBPACK FOOTER //\n// ./js/gem.jsx"],"sourceRoot":""}